# Почему Sass?

> **Примечание от редакторов A List Apart:** Мы с удовольствием представляем вам 
отрывок из книги [Sass для веб-дизайнеров][1] Дэна Седерхолма (Dan Cederholm), 
которую теперь можно купить на сайте [A Book Apart][2].

Я не спешил становиться сторонником Sass. Я пишу таблицы стилей вручную! Мне не 
нужна помощь! И тем более я не хочу добавлять в свой рабочий процесс 
дополнительные сложности. Отстаньте!

Примерно так я думал. Но реальность такова, что Sass (и другие препроцессоры 
CSS) могут стать мощным союзником, инструментом, который легко может войти в 
повседневную работу любого мастера стилизации. Мне потребовалось много времени 
чтобы поменять своё мнение, но я без сомнения рад что это случилось.

Именно поэтому у меня появилось желание написать эту небольшую книгу. Чтобы 
поделиться как с помощью Sass мне удалось сделать мою работу более продуктивной, 
придерживаясь при этом манеры написания CSS, к которой я привык за последние 
десять лет. Поначалу обилие заблуждений не давало мне решиться попробовать Sass. 
Я боялся что мне придётся полностью поменять свой подход к написанию и 
управлению таблицами стилей. Поскольку порой CSS может быть очень хрупким, не 
ничего странного в том, что разработчики так бережно относятся к своим детищам. 
Вы со мной согласны?

Кхм. 

Итак, я хочу показать вам что Sass может значительно упростить вам жизнь, не 
нарушив при этом привычный для вас порядок организации работы. Я расскажу о 
различных компонентах Sass, о том как его установить и использовать, о том как 
он помог мне в работе над моими проектами. Если повезёт, возможно я и вас 
превращу в сторонника Sass.

## В двух словах о Sass

Вам случалось столкнуться с необходимостью поменять, скажем, цвет в таблице 
стилей и обнаружить что придётся искать и менять значение в нескольких местах? 
Разве вам не хотелось бы чтобы это можно было бы сделать с помощью CSS?

           $brand-color: #fc3;
    a {
    color: $brand-color;
    }
    nav {
             background-color: $brand-color;
    }

Как бы вам понравилось если можно было бы изменить это значение один раз и это 
изменение отображалось бы по всей таблице стилей? Это возможно с Sass!

Или как насчёт повторяющихся блоков стилей, которые встречаются в различных 
частях таблицы стилей?

    p {
    margin-bottom: 20px; font-size: 14px; line-height: 1.5;
    }
    footer {
             margin-bottom: 20px;
             font-size: 14px;
             line-height: 1.5;
    }

Разве не было бы круто стиснуть все эти общие правила в один блок, который можно 
использовать неоднократно? Опять же, чтобы можно было прописать их один раз и 
затем использовать когда возникнет необходимость.

         @mixin default-type {
         margin-bottom: 20px;
         font-size: 14px;
         line-height: 1.5;
    }
    p {
    @include default-type;
    }
    footer {
         @include default-type;
    }

Это тоже Sass! Эти два простеньких примера едва приоткрывают занавес над тем, 
как Sass позволяет сделать разработку таблиц стилей более быстрой, лёгкой и 
гибкой. Это долгожданный помощник в мире веб-дизайна, ведь все кому приходилось 
работать над созданием сайта знают что…

## CSS — язык сложный

Признаем честно: выучить CSS не просто. Нужно понять за что отвечает каждое 
свойство, как работает каскад, какие возможности поддерживает тот или иной 
браузер, разобраться с селекторами, различными хитростями, и так далее. Это не 
просто. Добавьте к этому уровень сложности интерфейсов, над которыми мы теперь 
работаем и дальнейшую необходимость их поддержки в рабочем состоянии. Может 
возникнуть вопрос почему мы вообще этим занимаемся. Перед нами стоят трудные 
задачи и некоторым из нас просто напросто нравится в результате находить для них 
решения.

Трудности частично усугублены ещё и тем, что изначально CSS не был задуман для 
решения вопросов, для которых мы его сейчас используем. Безусловно, прогресс 
движется вперед стремительными темпами благодаря быстрому усовершенствованию 
браузеров и внедрению CSS3 и т.п. Однако нам всё ещё приходится полагаться на 
приёмы, которые в сущности являются хаками. Например, свойство `float` было 
придумано всего лишь для выравнивания изображения относительно текстового блока. 
Однако мы додумались применить это свойство для построения целых интерфейсов.

Кроме того, наши таблицы стилей насыщены повторами. Цвета, шрифты, часто 
повторяющиеся группы свойств, и т.д. Типичный CSS-файл представляет собой крайне 
линейный документ, при виде которого программист, привыкший к 
объектно-ориентированному программированию, начал бы рвать на себе волосы. (Я не 
работаю в области объектно-ориентированного программирования, но волос у меня 
осталось довольно мало. Понимайте как хотите.)

По мере усложнения и повышения функциональности интерфейсов мы придумываем для 
компонентов CSS такое применение, о котором его авторы никогда бы и не подумали. 
Вот насколько мы изобретательны. К счастью, сейчас разработчики браузеров уже 
намного быстрее вводят в реализацию новые возможности CSS: более эффективные и 
могущественные свойства и селекторы, позволяющие решать проблемы, которые перед 
нами ставит современный веб. Это такие нововведения как новые средства для 
позиционирования в CSS3, `border-radius`, `box-shadow`, новые селекторы, 
переходы, трансформации, анимации и т.д. Мы живём в интересное время. И тем не 
менее, много чего CSS пока не достаёт. Есть много пробелов, которые нужно 
заполнить и тогда жизнь разработчика таблиц стилей станет намного проще.

### Принцип DRY

Если заглянуть на минутку в мир разработки программного обеспечения (я 
предпочитаю поверхностно с ним ознакомиться вместо того чтобы в нём осваиваться), 
можно увидеть, что для ребят, работающих над сложными системами, архитектура, 
переменные, коэффициенты, и др. являются укоренившейся и ключевой частью работы. 

Возможно вы слышали о принципе «DRY» («don’t repeat yourself» — «не повторяйся»). 
Согласно принципу DRY, который был введён и описан Енди Хантом (Andy Hunt) и 
Дейвом Томасом (Dave Thomas) в книге [«Программист-прагматик»][3]:

> Каждый фрагмент знаний должен иметь единственное однозначное официальное 
представление в системе.

Суть в том, что [продублированный код может привести к ошибкам и путанице для 
разработчиков][4]. То же подсказывает и здравый смысл: разумнее будет прописать 
часто повторяющиеся шаблоны один раз, а затем использовать их по всему 
приложению. При таком подходе поддержка кода станет эффективнее и проще. 

Между CSS и принципом DRY нет ничего общего. Таблицы стилей нередко кишат 
повторяющимися правилами, записями и значениями. Мы постоянно прописываем в 
таблицах стилей одни и те же сниппеты для цветов, шрифтов и повторяющиеся 
стилевые шаблоны. Бросив один лишь взгляд на CSS-файл приличного размера, 
разработчик ПО, привыкший работать по принципу DRY, взвоет сначала от недоумения, 
а затем и от безысходности.

«Как вы вот это поддерживаете в рабочем состоянии?!» — спросит он.

«Кстати, а об ошибках в IE я упоминал?» — ответите вы с толикой отвращения к 
самому себе.

### Так почему же с CSS работать так трудно?

Немного света на то, почему уже много лет у CSS столь ограничен синтаксис, 
проливает [очерк][5] соавтора CSS, Берта Боса (Bert Bos):

> Мы не решились добавить в CSS такие мощные возможности, как макрокоманды, 
переменные, символьные константы, условные конструкции, и др., используемые 
программистами в большинстве языков. Причина состоит в том, что хоть эти 
компоненты и открывают перед продвинутыми пользователями огромные возможности, 
однако менее опытных пользователей они могут полностью сбить с толку; или, что 
ещё более вероятно, напугать настолько, что те и не прикоснутся к CSS. Тут дело 
в балансе. И когда речь идёт о CSS, баланс подразумевает нечто другое чем в 
других случаях.

Создатели CSS рассматривали возможность заимствований. Они (вполне естественно) 
хотели чтобы над созданием сайтов могло работать максимально возможное 
количество людей. Они хотели чтобы CSS был достаточно функциональным для 
стилизации вебстраниц и разделения контента и представления, и в то же время был 
достаточно простым для понимания и использования. Без сомнения, я уважаю их труд. 
Но в то же время, нам нужно выполнять свою работу, которая становится всё более 
сложной, полной нюансов и требующей значительных усилий для поддержки в рабочем 
и актуальном состоянии. 

К счастью, есть дополнительные средства, которые могут нам в этом помочь, одно 
из них — Sass.

## Что собой представляет Sass?

Sass — это препроцессор, промежуточное звено между таблицами стилей, которые вы 
пишите, и `.css` файлами, которые отправляются в браузер. Sass (сокращение от 
«Syntactically Awesome Stylesheets» — «Синтаксически совершенные стилевые 
таблицы») заполняет пробелы в языке CSS, позволяя писать более быстрый, более 
продуктивный и более простой в поддержке код соблюдая принцип DRY.

На [вебсайте Sass][6] представлено его краткое описание:

> Sass — это метаязык на основе CSS, используемый чтобы сделать описание стиля 
документа более чистым и структурированным; обладает большими возможностями чем 
простой CSS. Sass предлагает более простой и изящный синтаксис для CSS и 
различные полезные инструменты для создания таблиц стилей, которые будет легко 
поддерживать в дальнейшем. 

Итак, в то время как обычный CSS пока не поддерживает такие вещи как переменные, 
миксины (блоки стилей, которые можно использовать несколько раз) и другие 
полезности, Sass предусматривает синтаксис, который поддерживает всё это и не 
только, дополняя обычный CSS сверхмощными функциональными возможностями. Затем 
он интерпретирует (или же компилирует) этот синтаксис в обычные CSS файлы с 
помощью командной строки или плагина для веб-фреймворка. 

Точнее говоря, Sass является расширением CSS3 и его синтаксис SCSS (от «Sassy 
CSS» — «стильный CSS»), о котором мы поговорим через секунду, представляет собой 
расширенную версию CSS3. Значит любой валидный документ CSS3 является также 
валидным документом SCSS. Это неотъемлемое свойство Sass, позволяющее быстро в 
нём разобраться. Начать использовать синтаксис Sass можно без особых усилий в 
удобном для вас объёме. Это значит и то, что конвертировать уже существующие 
таблицы стилей из CSS в SCSS можно также поэтапно, по мере изучения и освоения 
новых возможностей Sass.

Позже, когда вы полностью освоите Sass (это не займёт много времени), вы и сами 
почувствуете что он воспринимается как естественное расширение CSS, заполняющее 
пробелы, которые хотелось бы чтобы были заполнены спецификацией самого CSS. 
Именно поэтому когда я начал использовать Sass, мне в голову ни разу не 
приходила мысль что он неудобен или требует дополнительных усилий; он кажется 
настолько же простым как и CSS. Стоит вам его попробовать и скорее всего вы уже 
не сможете от него отказаться.

Более того, Sass помогает улучшить CSS. Предусматривая применение некоторых 
скоростных методов, которые пока невозможны без препроцессоров, он даёт 
разработчикам CSS живую реализацию и поле для экспериментов. Позже, если это 
будет целесообразно, некоторые возможности Sass могут оказать влияние на будущие 
спецификации CSS.

## Заблуждения насчёт Sass

Ранее я упоминал что я не решался попробовать Sass. Отчасти причиной этому было 
множество заблуждений, которые мной овладевали. Нужно ли мне знать Ruby или 
продвинутые тонкости командной строки? Придётся ли мне полностью изменить свой 
подход к написанию таблиц стилей? Будет ли конечный CSS раздутым и нечитаемым?

К счастью, ответ на каждый из этих вопросов — конечно же «нет», однако я часто 
слышу о них когда кто-либо упоминает о Sass в различных интернет-источниках. 
Давайте проясним некоторые моменты.

### Я боюсь командной строки!

Я никоим образом не являюсь экспертом по использованию командной строки, однако 
за несколько лет я кое-чему научился; чтобы заработать неприятности на свою 
голову, моих знаний как раз хватит. Я могу с помощью консоли перемещаться по 
файловой системе, использовать Git команды и т.д.

В связи с этим, я полностью солидарен с фронт-енд разработчиками, которые не 
хотят с ней связываться. Некоторые ребята страдают фобией командной строки. Для 
Sass использование командной строки практически не требуется, по сути вам нужно 
освоить только одну команду. Кроме того, существуют приложения и веб-фреймворки, 
позволяющие избежать командной строки вообще. (Я расскажу о них в следующем 
разделе).

Итак, если вы всеми силами избегаете командной строки, это не должно помешать 
вам попробовать Sass!

### Я не хочу менять свой подход к написанию CSS!

От этого заблуждения я страдал больше всего. Для меня имеет огромное значение 
то, как происходит создание и упорядочение таблиц стилей. Это своего рода 
искусство. Однако, не забывайте, что поскольку синтаксис SCSS является 
расширенной версией CSS3, вам ничего не нужно менять в своём подходе к написанию 
CSS. Все ваши привычки по комментированию, отступам или их отсутствию, 
форматированию в общем, могут оставаться теми же что и при работе с файлами 
`.scss`. Когда я это понял, я смог без страха погрузиться в Sass.

### Я не хочу чтобы Sass влиял на то, как я прописываю стили!

С другой стороны, Sass не решит все ваши проблемы и не избавит вас от плохих 
привычек. Нерациональные, раздутые таблицы стилей такими же и останутся при 
использовании Sass. Хорошая организация и рассудительность здесь так же важны. 
Собственно, Sass может даже усугубить последствия применения плохих подходов, об 
этом мы также поговорим. Однако при правильном и разумном использовании, Sass 
может существенно помочь в создании сайтов.

Вот так. Теперь когда мы разобрались с мелочами, давайте перейдём к самому 
интересному. Думаю вы будете удивлены возможностями Sass. В следующем разделе мы 
поговорим о том, как настроить работу с Sass — о том как он может вписаться в 
ваш рабочий процесс и насколько просто использовать командную строку и 
приложения. Время для Sass, ребята.

[1]: http://www.abookapart.com/products/sass-for-web-designers
[2]: http://www.abookapart.com/
[3]: http://pragprog.com/the-pragmatic-programmer
[4]: http://c2.com/cgi/wiki?DontRepeatYourself
[5]: http://www.w3.org/People/Bos/DesignGuide/maintainability.html
[6]: http://sass-lang.com/